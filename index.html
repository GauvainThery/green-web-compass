<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Green Web Compass - Page Weight Analyzer</title>
    <link rel="stylesheet" href="src/client/css/main.css" />
    <link rel="icon" type="image/svg+xml" href="public/favicon.ico" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="container">
      <!-- Header Section -->
      <header class="header">
        <div class="header-content">
          <div class="logo">
            <span class="logo-icon">
              <!-- Optionally update logo SVG here if needed -->
            </span>
            <h1>Green Web Compass</h1>
          </div>
          <p class="tagline">
            Analyze your website's environmental impact and page weight.
          </p>
        </div>
      </header>

      <!-- Main Content -->
      <main class="main">
        <!-- Input Section -->
        <section class="input-section">
          <div class="input-container">
            <h2>Page Weight Analysis</h2>
            <p class="description">
              Enter a URL to get a comprehensive breakdown of page weight,
              resource sizes, and optimization opportunities
            </p>

            <form class="url-form" id="urlForm">
              <div class="input-group">
                <div class="input-wrapper">
                  <input
                    type="url"
                    id="urlInput"
                    placeholder="https://example.com"
                    required
                    class="url-input"
                  />
                  <div class="input-icon">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                      <path
                        d="M9 2C5.13 2 2 5.13 2 9C2 12.87 5.13 16 9 16C12.87 16 16 12.87 16 9C16 5.13 12.87 2 9 2ZM9 14C6.24 14 4 11.76 4 9C4 6.24 6.24 4 9 4C11.76 4 14 6.24 14 9C14 11.76 11.76 14 9 14Z"
                        fill="currentColor"
                      />
                      <path
                        d="M15.5 14.5L19 18"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                      />
                    </svg>
                  </div>
                </div>

                <!-- Analysis Options -->
                <div class="analysis-options">
                  <div class="option-group">
                    <label class="option-label"
                      >Visitor Interaction Level</label
                    >
                    <div class="radio-group">
                      <label class="radio-option">
                        <input
                          type="radio"
                          name="interactionLevel"
                          value="minimal"
                          id="interactionMinimal"
                        />
                        <span class="radio-custom"></span>
                        <div class="radio-content">
                          <span class="radio-title">Minimal</span>
                          <span class="radio-description"
                            >Basic scrolling and reading</span
                          >
                        </div>
                      </label>
                      <label class="radio-option">
                        <input
                          type="radio"
                          name="interactionLevel"
                          value="default"
                          id="interactionDefault"
                          checked
                        />
                        <span class="radio-custom"></span>
                        <div class="radio-content">
                          <span class="radio-title">Normal</span>
                          <span class="radio-description"
                            >Scrolling, hover effects, and basic
                            interactions</span
                          >
                        </div>
                      </label>
                      <label class="radio-option">
                        <input
                          type="radio"
                          name="interactionLevel"
                          value="thorough"
                          id="interactionThorough"
                        />
                        <span class="radio-custom"></span>
                        <div class="radio-content">
                          <span class="radio-title">Thorough</span>
                          <span class="radio-description"
                            >Full interaction with most of the elements</span
                          >
                        </div>
                      </label>
                    </div>
                  </div>

                  <div class="option-group">
                    <label class="option-label">Device Type</label>
                    <div class="radio-group">
                      <label class="radio-option">
                        <input
                          type="radio"
                          name="deviceType"
                          value="desktop"
                          id="deviceDesktop"
                          checked
                        />
                        <span class="radio-custom"></span>
                        <div class="radio-content">
                          <span class="radio-title">Desktop</span>
                          <span class="radio-description"
                            >1920x1080 with mouse interactions</span
                          >
                        </div>
                      </label>
                      <label class="radio-option">
                        <input
                          type="radio"
                          name="deviceType"
                          value="mobile"
                          id="deviceMobile"
                        />
                        <span class="radio-custom"></span>
                        <div class="radio-content">
                          <span class="radio-title">Mobile</span>
                          <span class="radio-description"
                            >375x667 with touch interactions</span
                          >
                        </div>
                      </label>
                    </div>
                  </div>
                </div>

                <div class="button-group">
                  <button type="submit" class="analyze-btn" id="analyzeBtn">
                    <span class="btn-text">Analyze</span>
                    <div class="btn-loader">
                      <div class="spinner"></div>
                    </div>
                  </button>
                  <button type="button" class="clear-btn" id="clearBtn">
                    Clear
                  </button>
                </div>
              </div>
            </form>
          </div>
        </section>

        <!-- Loading Progress Section -->
        <section
          class="loading-section"
          id="loadingSection"
          style="display: none"
        >
          <div class="loading-container">
            <h3>Analyzing Page Weight</h3>
            <div class="loading-progress">
              <div class="progress-overview">
                <div class="progress-bar-container">
                  <div class="progress-bar-bg">
                    <div class="progress-bar-fill" id="progressFill"></div>
                  </div>
                  <div class="progress-percentage" id="progressPercentage">
                    0%
                  </div>
                </div>
              </div>

              <div class="loading-steps">
                <div class="loading-step" id="step1">
                  <div class="step-icon">
                    <div class="step-spinner"></div>
                    <svg
                      class="step-check"
                      width="20"
                      height="20"
                      viewBox="0 0 20 20"
                      fill="none"
                    >
                      <path
                        d="M16.25 6.25L8.75 13.75L3.75 8.75"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                  </div>
                  <div class="step-content">
                    <div class="step-title">Loading Page</div>
                    <div class="step-description">
                      Navigating to the website and waiting for initial load
                    </div>
                  </div>
                </div>

                <div class="loading-step" id="step2">
                  <div class="step-icon">
                    <div class="step-spinner"></div>
                    <svg
                      class="step-check"
                      width="20"
                      height="20"
                      viewBox="0 0 20 20"
                      fill="none"
                    >
                      <path
                        d="M16.25 6.25L8.75 13.75L3.75 8.75"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                  </div>
                  <div class="step-content">
                    <div class="step-title">Simulating User Behavior</div>
                    <div class="step-description">
                      Scrolling, clicking buttons, and interacting with the page
                    </div>
                  </div>
                </div>

                <div class="loading-step" id="step3">
                  <div class="step-icon">
                    <div class="step-spinner"></div>
                    <svg
                      class="step-check"
                      width="20"
                      height="20"
                      viewBox="0 0 20 20"
                      fill="none"
                    >
                      <path
                        d="M16.25 6.25L8.75 13.75L3.75 8.75"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                  </div>
                  <div class="step-content">
                    <div class="step-title">Monitoring Network Activity</div>
                    <div class="step-description">
                      Tracking resources loaded after interactions
                    </div>
                  </div>
                </div>

                <div class="loading-step" id="step4">
                  <div class="step-icon">
                    <div class="step-spinner"></div>
                    <svg
                      class="step-check"
                      width="20"
                      height="20"
                      viewBox="0 0 20 20"
                      fill="none"
                    >
                      <path
                        d="M16.25 6.25L8.75 13.75L3.75 8.75"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                  </div>
                  <div class="step-content">
                    <div class="step-title">Analyzing Resources</div>
                    <div class="step-description">
                      Processing and categorizing all loaded resources
                    </div>
                  </div>
                </div>
              </div>
          </div>
        </section>

        <!-- Results Section -->
        <section class="results-section" id="resultsSection">
          <div class="results-header">
            <h3>Page Weight Analysis Results</h3>
            <div class="analyzed-url" id="analyzedUrl"></div>
            <button
              class="share-btn"
              id="shareBtn"
              style="
                margin-top: 12px;
                padding: 8px 16px;
                background: rgba(255, 255, 255, 0.2);
                color: white;
                border: none;
                border-radius: 8px;
                cursor: pointer;
                font-size: 14px;
              "
            >
              📋 Copy Share Link
            </button>
          </div>

          <!-- Key Metrics Grid -->
          <div class="overview-grid">
            <div class="metric-card primary">
              <div class="metric-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                  <path
                    d="M12 2L13.09 8.26L19 9L13.09 9.74L12 16L10.91 9.74L5 9L10.91 8.26L12 2Z"
                    fill="currentColor"
                  />
                </svg>
              </div>
              <div class="metric-content">
                <div class="metric-value" id="totalSize">0 KB</div>
                <div class="metric-label">Total Page Weight</div>
              </div>
            </div>

            <div class="metric-card">
              <div class="metric-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                  <path
                    d="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM19 19H5V5H19V19Z"
                    fill="currentColor"
                  />
                  <path
                    d="M7 7H17V9H7V7ZM7 11H17V13H7V11ZM7 15H13V17H7V15Z"
                    fill="currentColor"
                  />
                </svg>
              </div>
              <div class="metric-content">
                <div class="metric-value" id="resourceCount">0</div>
                <div class="metric-label">Total Resources</div>
              </div>
            </div>
          </div>

          <!-- Resource Breakdown -->
          <div class="breakdown-section">
            <h4>Resource Type Analysis</h4>
            <div class="breakdown-grid">
              <div class="breakdown-item">
                <div class="breakdown-header">
                  <div class="breakdown-type">
                    <div class="type-indicator html"></div>
                    <span>HTML Documents</span>
                  </div>
                  <div class="breakdown-stats">
                    <span class="breakdown-size" id="htmlSize">0 KB</span>
                    <span class="breakdown-count" id="htmlCount"
                      >(0 files)</span
                    >
                  </div>
                </div>
                <div class="progress-bar">
                  <div class="progress-fill html" id="htmlProgress"></div>
                </div>
                <div class="breakdown-details">
                  <span class="breakdown-percentage" id="htmlPercentage"
                    >0%</span
                  >
                  <span class="breakdown-average" id="htmlAverage"
                    >Avg: 0 KB</span
                  >
                </div>
              </div>

              <div class="breakdown-item">
                <div class="breakdown-header">
                  <div class="breakdown-type">
                    <div class="type-indicator css"></div>
                    <span>Stylesheets</span>
                  </div>
                  <div class="breakdown-stats">
                    <span class="breakdown-size" id="cssSize">0 KB</span>
                    <span class="breakdown-count" id="cssCount">(0 files)</span>
                  </div>
                </div>
                <div class="progress-bar">
                  <div class="progress-fill css" id="cssProgress"></div>
                </div>
                <div class="breakdown-details">
                  <span class="breakdown-percentage" id="cssPercentage"
                    >0%</span
                  >
                  <span class="breakdown-average" id="cssAverage"
                    >Avg: 0 KB</span
                  >
                </div>
              </div>

              <div class="breakdown-item">
                <div class="breakdown-header">
                  <div class="breakdown-type">
                    <div class="type-indicator js"></div>
                    <span>JavaScript</span>
                  </div>
                  <div class="breakdown-stats">
                    <span class="breakdown-size" id="jsSize">0 KB</span>
                    <span class="breakdown-count" id="jsCount">(0 files)</span>
                  </div>
                </div>
                <div class="progress-bar">
                  <div class="progress-fill js" id="jsProgress"></div>
                </div>
                <div class="breakdown-details">
                  <span class="breakdown-percentage" id="jsPercentage">0%</span>
                  <span class="breakdown-average" id="jsAverage"
                    >Avg: 0 KB</span
                  >
                </div>
              </div>

              <div class="breakdown-item">
                <div class="breakdown-header">
                  <div class="breakdown-type">
                    <div class="type-indicator media"></div>
                    <span>Images & Media</span>
                  </div>
                  <div class="breakdown-stats">
                    <span class="breakdown-size" id="mediaSize">0 KB</span>
                    <span class="breakdown-count" id="mediaCount"
                      >(0 files)</span
                    >
                  </div>
                </div>
                <div class="progress-bar">
                  <div class="progress-fill media" id="mediaProgress"></div>
                </div>
                <div class="breakdown-details">
                  <span class="breakdown-percentage" id="mediaPercentage"
                    >0%</span
                  >
                  <span class="breakdown-average" id="mediaAverage"
                    >Avg: 0 KB</span
                  >
                </div>
              </div>

              <div class="breakdown-item">
                <div class="breakdown-header">
                  <div class="breakdown-type">
                    <div class="type-indicator font"></div>
                    <span>Web Fonts</span>
                  </div>
                  <div class="breakdown-stats">
                    <span class="breakdown-size" id="fontSize">0 KB</span>
                    <span class="breakdown-count" id="fontCount"
                      >(0 files)</span
                    >
                  </div>
                </div>
                <div class="progress-bar">
                  <div class="progress-fill font" id="fontProgress"></div>
                </div>
                <div class="breakdown-details">
                  <span class="breakdown-percentage" id="fontPercentage"
                    >0%</span
                  >
                  <span class="breakdown-average" id="fontAverage"
                    >Avg: 0 KB</span
                  >
                </div>
              </div>

              <div class="breakdown-item">
                <div class="breakdown-header">
                  <div class="breakdown-type">
                    <div class="type-indicator other"></div>
                    <span>Other Resources</span>
                  </div>
                  <div class="breakdown-stats">
                    <span class="breakdown-size" id="otherSize">0 KB</span>
                    <span class="breakdown-count" id="otherCount"
                      >(0 files)</span
                    >
                  </div>
                </div>
                <div class="progress-bar">
                  <div class="progress-fill other" id="otherProgress"></div>
                </div>
                <div class="breakdown-details">
                  <span class="breakdown-percentage" id="otherPercentage"
                    >0%</span
                  >
                  <span class="breakdown-average" id="otherAverage"
                    >Avg: 0 KB</span
                  >
                </div>
              </div>
            </div>
          </div>

          <!-- Largest Resources -->
          <div class="largest-section">
            <h4>Largest Resources</h4>
            <div class="largest-list" id="largestResourcesList">
              <!-- Will be populated dynamically -->
            </div>
          </div>
        </section>
      </main>

      <!-- Footer -->
      <footer class="footer">
        <div class="footer-content">
          <p class="footer-note">
            Built with ❤️ for a sustainable web.
          </p>
        </div>
      </footer>
    </div>

    <script type="module" src="src/client/js/app.js"></script>
  </body>
</html>
